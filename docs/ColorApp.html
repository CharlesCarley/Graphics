<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">

<head>
    <title>Tests</title>
    <style type="text/css">
        body {
            background-color: #333;
        }

        .TextContainer {
            width: 100%;
            height: 100px;
            padding: 5px;
            color: rgb(133, 132, 132);
        }

        .TextArea {
            width: inherit;
            height: inherit;
            font-size: 8pt;
            resize: none;
            color: inherit;
            background-color: #444;
            border: 1px #333 solid;
        }

        .Console {
            background-color: #333;
            border: 1px #1b1b1b solid;
        }

        .Container {
            border: 0;
            width: 100%;
        }

        .CanvasContainer {
            text-align: center;
        }


        canvas.CanvasArea {
            background-color: rgb(24, 25, 27);
            padding: 1px;
            margin: 1px;
        }


        .button {
            background-color: transparent;
            color: rgb(115, 126, 158);
            border: #1b1b1b 1px solid;
            padding: 3px;
        }

        .ButtonContainer {
            text-align: end;
        }
    </style>
</head>

<body>


    <table class="Container" cellspacing="0" cellpadding="0">
        <tr>
            <td class="CanvasContainer">
                <canvas width="800"  height="600 "class="CanvasArea" id="canvas" oncontextmenu="event.preventDefault()" tabindex=-1></canvas>
            </td>
        </tr>
        <tr>
            <!--<td class="TextContainer">
                <table cellspacing="0" cellpadding="0" class="TextContainer">
                    <tr>
                        <td class="TextContainer">
                            <textarea id="output" class="TextArea"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td class="ButtonContainer">
                            <br />
                            <button class="button" type="button" onclick="clearLog()">Clear</button>
                        </td>
                    </tr>
                </table>
            </td>-->
        </tr>
    </table>

    <script type="text/javascript">
        const MAIN_ELEMENT = "output";
        const CANVAS_ELEMENT = "canvas";
        const SOURCE_FILE = "CoLorApp.js";

        // log message from java script
        function logMessage(msg) {
            var ele = document.getElementById(MAIN_ELEMENT);
            var curText = ele.value;
            curText += "\n" + msg;
            ele.value = curText;
        }

        function clearLog() {
            var ele = document.getElementById(MAIN_ELEMENT);
            if (ele)
                ele.value = ''
        }

        var Module = {
            preRun: [function () {
                clearLog();
            }],
            postRun: [],
            canvas: (function () {
                var canvas = document.getElementById(CANVAS_ELEMENT);
                canvas.addEventListener("webglcontextlost",
                    function (e) {
                        alert('WebGL context lost. You will need to reload the page.');
                        e.preventDefault();
                    },
                    false
                );
                return canvas;
            })(),
            print: (function () {
                var element = document.getElementById(MAIN_ELEMENT);
                return function (text) {

                    if (arguments.length > 1)
                        text = Array.prototype.slice.call(arguments).join(' ');

                    console.log(text);
                    if (element) {
                        element.value += text + "\n";
                        element.scrollTop = element.scrollHeight; // focus on bottom
                    }
                };
            })(),
        };

        function loadMainJs() {
            var script = document.createElement('script');
            script.src = SOURCE_FILE;
            document.body.appendChild(script);
        }
        loadMainJs();
    </script>



</body>

</html>