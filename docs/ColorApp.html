<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">

<head>
    <title>Tests</title>
    <style type="text/css">
        body {
            background-color: #333;
        }


        .Container {
            border: 0;
            width: 100%;
        }

        .CanvasContainer {
            text-align: center;
        }


        canvas.CanvasArea {
            background-color: rgb(24, 25, 27);
            padding: 1px;
            margin: 1px;
            width: 75%;
        }
    </style>
</head>

<body>


    <table class="Container" cellspacing="0" cellpadding="0">
        <tr>
            <td class="CanvasContainer">
                <canvas class="CanvasArea" id="canvas" oncontextmenu="event.preventDefault()" tabindex=-1></canvas>
            </td>
        </tr>
    </table>

    <script type="text/javascript">
        const MAIN_ELEMENT = "output";
        const CANVAS_ELEMENT = "canvas";
        const SOURCE_FILE = "ColorApp.js";

        // log message from java script
        function logMessage(msg) {
            var ele = document.getElementById(MAIN_ELEMENT);
            var curText = ele.value;
            curText += "\n" + msg;
            ele.value = curText;
        }

        function clearLog() {
            var ele = document.getElementById(MAIN_ELEMENT);
            if (ele)
                ele.value = ''
        }

        var Module = {
            preRun: [function () {
                clearLog();
            }],
            postRun: [],
            canvas: (function () {
                var canvas = document.getElementById(CANVAS_ELEMENT);
                canvas.addEventListener("webglcontextlost",
                    function (e) {
                        alert('WebGL context lost. You will need to reload the page.');
                        e.preventDefault();
                    },
                    false
                );
                return canvas;
            })(),
            print: (function () {
                var element = document.getElementById(MAIN_ELEMENT);
                return function (text) {

                    if (arguments.length > 1)
                        text = Array.prototype.slice.call(arguments).join(' ');

                    console.log(text);
                    if (element) {
                        element.value += text + "\n";
                        element.scrollTop = element.scrollHeight; // focus on bottom
                    }
                };
            })(),
        };

        function loadMainJs() {
            var script = document.createElement('script');
            script.src = SOURCE_FILE;
            document.body.appendChild(script);
        }
        loadMainJs();
    </script>



</body>

</html>